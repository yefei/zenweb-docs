---
pagination_prev: getting-started/init
---

# 一切的入口：控制器

访问一个 web 服务的入口就是控制器，通俗点说就是 `url` 链接，我们没有单独的 `路由` 配置文件，
所有路由的设置都是与控制器代码绑定在一起的，这让代码维护看起来更清晰自然。

现在我们来创建第一个 "Hello World!"

## 第一个控制器

在 `src` 文件夹下创建一个新的文件夹 `controller`。 *（必须是这个名称，这与代码扫描加载有关，当然如果你想改也不是不行，只是我们推荐先这么约定）*

在 `controller` 目录下新建一个文件 `index.ts`
```ts title="src/controller/index.ts"
import { Context, mapping } from "zenweb";

// 导出控制器类，类名称没有要求，你甚至可以导出一个匿名类
// 但是我们不推荐你这么做，毕竟代码是要给人看的，起一个贴合实际的名字不更优雅吗？
// 有了名字也方便后续的日志查看
// 当然你也可以在一个文件中导出多个类，都是可以生效的，但是更推荐一个文件只导出一个控制器类
export class IndexController {
  @mapping() // 将类方法注册到路由中，在不指定参数的情况下默认为 GET /{方法名称} (index 名称比较特殊默认为 /)
  index(ctx: Context) { // 在控制器函数中可以指定各种需要用到的类
    ctx.success("Hello World!"); // 输出结果
  }
}
```

在你保存文件后应该会发现控制台中信息重新滚动了一次，这是 ts-watch 监测到代码改变而重启了应用，以让新的代码生效。

这时候我们再次打开 http://127.0.0.1:7001 查看是否有：
```json
{"data":"Hello World!"}
```

:::tip 为什么默认输出 json 格式
这里我们看到了一段 `json` 输出，这是 zenweb 的默认输出格式，对于现代 web 开发来说，前后分离已经是一种标配了，
如果你需要传统的服务端渲染可以使用 `@zenweb/view` 模块，如果你需要直接输出内容可以使用 `ctx.body=` 这里不做过多介绍。
:::

:::tip 我可以更改 json 结果的外层包裹吗？
完全可以更改，通过修改 `src/index.ts` 中的 `create({ result: { success })` 即可实现，详情请查看 [zenweb 模块](../modules/zenweb)
:::
